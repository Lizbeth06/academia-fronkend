<div class="container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/admin">Principal</a></li>
        <li class="breadcrumb-item active" aria-current="page">Convocatoria</li>
      </ol>
    </nav>
  
    <mat-card appearance="outlined">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image">
          <mat-icon class="green-icon">corporate_fare</mat-icon>
        </div>
        <mat-card-title>Lista de Convocatoria</mat-card-title>
        <mat-card-subtitle>SICAC</mat-card-subtitle>
      </mat-card-header>
      <mat-card-actions align="end">
        <!--<button mat-raised-button (click)="openDialog()" class="demo-button green-button" matTooltip="Nuevo Federación">Agregar</button>-->
        <!--<button mat-raised-button (click)="openDialog()" class="demo-button green-button"
          matTooltip="Nueva">Agregar</button>-->
      </mat-card-actions>

      <mat-card-content>
        <!--<mat-form-field appearance="outline" class="mat-body">
          <mat-label>Buscar Convocatoria</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Buscar..." #input>
        </mat-form-field>!-->
  
        <div class="mat-elevation-z8 table-responsive">
          <div class="table-respons">
            <table mat-table  matSort>
  
              <!-- ID Column -->
              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> N° </th>
                <td mat-cell *matCellDef="let row; let i=index"> {{i + 1}} </td>
              </ng-container>

              <!-- Acciones Column -->
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                 
                  <button type="button" mat-icon-button class="btnActionEdit" >
                    <mat-icon>edit</mat-icon>
                  </button>
                  <button type="button" mat-icon-button class="btnActionDelete" (click)="delete(element.idConvocatoria)">
                    <mat-icon>delete</mat-icon>
                  </button>
                  
                </td>
              </ng-container>
  
              <!-- Progress Column -->
            <ng-container matColumnDef="numconvocatoria">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Convocatoria </th>
            <td mat-cell *matCellDef="let row"> {{row.numconvocatoria}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="objetivo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Objeto del Servicio </th>
            <td mat-cell *matCellDef="let row"> {{row.objetivo}} </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="fregistro">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha de Registro </th>
            <td mat-cell *matCellDef="let row"> 
              Del {{ row.fregistro | date:'dd/MM/yyyy' }} al {{ row.fregistrofinal | date:'dd/MM/yyyy' }}
            </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="urlbase">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Base de Convocatoria </th>
              <td mat-cell *matCellDef="let row">
                @if(row.urlbase){
                <a [href]="row.urlbase" target="_blank" rel="noopener">
                  <mat-icon aria-label="PDF icon" style="color: red;">picture_as_pdf</mat-icon>
                </a>
              }
              </td>
            </ng-container>


            <!-- Fruit Column -->
            <ng-container matColumnDef="urlresultadoinscripcion">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Resultado de Ficha de Postulación </th>
            <td mat-cell *matCellDef="let row"> 
                @if(row.urlresultadoinscripcion){
                <a [href]="row.urlresultadoinscripcion" target="_blank" rel="noopener">
                  <mat-icon aria-label="PDF icon" style="color: red;">picture_as_pdf</mat-icon>
                </a>
              }
            </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="urlresultadoconocimiento">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Resultado de Ev. Conocimiento </th>
            <td mat-cell *matCellDef="let row">
              @if(row.urlresultadoconocimiento){
                <a [href]="row.urlresultadoconocimiento" target="_blank" rel="noopener">
                  <mat-icon aria-label="PDF icon" style="color: red;">picture_as_pdf</mat-icon>
                </a>
              }
            </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="urlresultadopsicologico">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Resultados de Evaluación Psicológica</th>
            <td mat-cell *matCellDef="let row"> 
              @if(row.urlresultadopsicologico){
                <a [href]="row.urlresultadopsicologico" target="_blank" rel="noopener">
                  <mat-icon aria-label="PDF icon" style="color: red;">picture_as_pdf</mat-icon>
                </a>
              }
            </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="urlresultadocurricular">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Resultados de Evaluación Curricular</th>
            <td mat-cell *matCellDef="let row"> 
              @if(row.urlresultadocurricular){
                <a [href]="row.urlresultadocurricular" target="_blank" rel="noopener">
                  <mat-icon aria-label="PDF icon" style="color: red;">picture_as_pdf</mat-icon>
                </a>
              }
               </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="urlresultadoentrevista">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Resultado de Entrevista Personal</th>
            <td mat-cell *matCellDef="let row"> 
              @if(row.urlresultadoentrevista){
                <a [href]="row.urlresultadoentrevista" target="_blank" rel="noopener">
                  <mat-icon aria-label="PDF icon" style="color: red;">picture_as_pdf</mat-icon>
                </a>
              }
               </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="urlresultadofinal">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Resultados Finales</th>
            <td mat-cell *matCellDef="let row"> 
              @if(row.urlresultadofinal){
                <a [href]="row.urlresultadofinal" target="_blank" rel="noopener">
                  <mat-icon aria-label="PDF icon" style="color: red;">picture_as_pdf</mat-icon>
                </a>
              }
            </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="comunicados">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Comunicados</th>
            <td mat-cell *matCellDef="let row"> {{row.comunicados}} </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="tipo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo</th>
            <td mat-cell *matCellDef="let row"> 
              @if(row.tipo==1){
                Orden de Servicio
              } @else if(row.tipo==2){
                Contrato Administrativo de Servicios - CAS
              } @else if(row.tipo==3){
                Prácticas Preprofesionales
              } @else if(row.tipo==4){
                Prácticas Profesionales
              } @else if(row.tipo==5){
                Prácticas Preprofesionales y Profesionales
              } @else {
                Otro
              }
            </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="ubigeo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> ubigeo</th>
            <td mat-cell *matCellDef="let row"> 
              {{row.ubigeo.ubiNombre}}
            </td>
            </ng-container>
  
              
  
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
              <!-- Mensaje cuando no hay datos -->
              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="3">No hay datos que coincidan con el filtro </td>
              </tr>
            </table>
          </div>
  
          <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" 
          showFirstLastButtons
          aria-label="Seleccionar página de tipo producto"></mat-paginator>
        </div>
  
      </mat-card-content>
    </mat-card>
  </div>

