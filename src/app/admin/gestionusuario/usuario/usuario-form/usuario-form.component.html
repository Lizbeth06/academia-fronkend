<h2 mat-dialog-title class="title-modal">{{titulo}}</h2>

<mat-dialog-content class="mat-typography">
  <!-- @if (true) {
  <mat-card appearance="outlined" class="mb-3">
    <mat-card-header>
      <mat-icon mat-card-avatar>work</mat-icon>
      <mat-card-title>Ficha del Trabajador</mat-card-title>
      <mat-card-subtitle>{{trabajadorSeleccionado.codigoTrabajador}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="row mt-3">
        <div class="col-md-6 mb-2">
          <strong class="d-block text-secondary">Oficina</strong>
          <span>{{trabajadorSeleccionado.oficina?.descripcion}}</span>
        </div>
        <div class="col-md-6 mb-2">
          <strong class="d-block text-secondary">Cargo</strong>
          <span>{{trabajadorSeleccionado.cargo}}</span>
        </div>
        <div class="col-md-12 mb-2">
          <strong class="d-block text-secondary">Observaciones</strong>
          <p class="m-0 text-muted">{{trabajadorSeleccionado.observaciones}}</p>
        </div>
        <div class="col-md-6">
          <strong class="d-block text-secondary">Estado</strong>
          <span class="badge" [class.bg-success]="trabajadorSeleccionado.estado" [class.bg-danger]="!trabajadorSeleccionado.estado">
            {{trabajadorSeleccionado.estado ? 'Activo' : 'Inactivo'}}
          </span>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  } -->
  <br>
  <form [formGroup]="form" (ngSubmit)="operate()">

    <div class="row" >

      <mat-form-field class="col-md-3">
        <mat-label>Seleccionar Trabajador</mat-label>
        <mat-select formControlName="trabajador" >
          @for (sp of trabajador; track $index) {
            <mat-option [value]="sp.idTrabajador">{{sp.persona.tipodocumento!.descripcion}}: {{sp.persona.numDocumento}} - {{sp.persona.nombres}} {{sp.persona.apaterno}} {{sp.persona.amaterno}}</mat-option>
          }
        </mat-select>
        <mat-hint>Trabajadores disponibles</mat-hint>
      </mat-form-field>
      
     
     <mat-form-field class="col-md-3" appearance="fill">
       <mat-label>N° Documento</mat-label>
       <input matInput type="text" formControlName="numDocumento">
       
     </mat-form-field>
     
  
     <mat-form-field class="col-md-3">
       <mat-label>Nombres</mat-label>
         <input matInput type="text" formControlName="nombres" [value]="form.value.nombres">
     </mat-form-field>

     <mat-form-field class="col-md-3">
       <mat-label>Ap. Paterno</mat-label>
       <input matInput type="text" formControlName="apaterno" [value]="form.value.apaterno">
     </mat-form-field>

    </div>

    <div class="row" >

     <mat-form-field class="col-md-3">
         <mat-label>Ap. Materno</mat-label>
         <input matInput type="text" formControlName="amaterno" [value]="form.value.amaterno">
     </mat-form-field>
 
     <mat-form-field class="col-md-3">
       <mat-label>Seleccionar</mat-label>
       <mat-select formControlName="genero">
        <mat-option [value]="1">MASCULINO</mat-option>
        <mat-option [value]="0">FEMENINO</mat-option>
       </mat-select>
       <mat-hint>Género</mat-hint>
     </mat-form-field>

      <mat-form-field class="col-md-3">
        <mat-label>Estado</mat-label>
          <mat-select formControlName="isActive">
            <mat-option [value]="1">Activado</mat-option>
            <mat-option [value]="2">Desactivado</mat-option>
          </mat-select>
      </mat-form-field>

      <mat-form-field class="col-md-3">
        <mat-label>UserName</mat-label>
        <input matInput type="text" formControlName="username">
      </mat-form-field>

    </div>

    <div class="row" >

      <mat-form-field class="col-md-3">
        <mat-label>Password</mat-label>
        <input matInput type="text" formControlName="password">
      </mat-form-field>

      <div class="col-md-3">
        <input type="file" class="form-control" formControlName="urlFoto">
        <mat-hint>Seleccionar Foto</mat-hint>
      </div>

    </div>

    <div class="row" >

      <div class="col-md-6 mb-3">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>¿Autoriza el uso de sus datos personales?</mat-label>
          <mat-select formControlName="termino1">
            <mat-option [value]="1">Sí</mat-option>
            <mat-option [value]="0">No</mat-option>
          </mat-select>
        </mat-form-field>
      </div>


      <div class="col-md-6 mb-3">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>¿Acepta los términos y condiciones?</mat-label>
          <mat-select formControlName="termino2">
            <mat-option [value]="1">Sí</mat-option>
            <mat-option [value]="0">No</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

    </div>
       
    </form>
  
</mat-dialog-content>


<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close btnCancelar>Cancelar</button>
  <button mat-button [mat-dialog-close]="true" cdkFocusInitial><mat-icon>save</mat-icon> Guardar</button>
</mat-dialog-actions>
